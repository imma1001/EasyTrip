const {
    GoogleGenerativeAI,
    HarmCategory,
    HarmBlockThreshold,
  } = require("@google/generative-ai");
  
  const apiKey = process.env.GEMINI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
  
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generated AI Trip Info: make a flight plan for Location:cairo ,1 Days,1 Nights with Luxury budget ,Family, Fri Feb 14 2025 12:00:00 GMT+0200 (Eastern European Standard Time) Date, othe deatalis with Prices ,Booking url,Hotels options list with HotelName,Place Details,Place image ,Geo coordnation ,ticket Price ,time in json format real info and links"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a luxury Cairo flight plan for a family of four (assuming two adults, two children) for February 14, 2025. This is a one-day trip designed to maximize experiences within a limited timeframe.  Because it's a very short trip, we'll focus on iconic landmarks and comfortable experiences.  **Remember:** This is a sample plan. Real prices and availability will fluctuate. You will need to book everything through the provided links closer to the date for accurate information.  Prices are estimates and in USD.\n\n```json\n{\n  \"tripDetails\": {\n    \"location\": \"Cairo, Egypt\",\n    \"duration\": \"1 Day, 1 Night\",\n    \"budget\": \"Luxury\",\n    \"travelers\": \"Family (2 Adults, 2 Children - assumption)\",\n    \"date\": \"Fri Feb 14 2025\",\n    \"focus\": \"Iconic Landmarks, Comfortable Experiences\"\n  },\n  \"flights\": {\n    \"outbound\": {\n      \"airline\": \"EgyptAir (or equivalent luxury carrier)\",\n      \"departureCity\": \"Your Departure City (Replace This)\",\n      \"arrivalCity\": \"Cairo (CAI)\",\n      \"departureTime\": \"Early Morning (e.g., 6:00 AM - adjust based on your origin)\",\n      \"arrivalTime\": \"Mid-Day (e.g., 10:00 AM Cairo Time - adjust based on your origin)\",\n      \"ticketPricePerPerson\": {\n        \"adult\": 800,\n        \"child\": 600\n      },\n      \"estimatedTotalFlightCost\": 2800,\n      \"bookingURL\": \"https://www.egyptair.com/ (Replace with your preferred booking site: Expedia, Kayak, etc.  Book well in advance for best prices.)\"\n    },\n    \"return\": {\n      \"airline\": \"EgyptAir (or equivalent luxury carrier)\",\n      \"departureCity\": \"Cairo (CAI)\",\n      \"arrivalCity\": \"Your Departure City (Replace This)\",\n      \"departureTime\": \"Evening (e.g., 8:00 PM)\",\n      \"arrivalTime\": \"Late Night/Early Morning (Adjust based on your destination)\",\n      \"ticketPricePerPerson\": {\n        \"adult\": 800,\n        \"child\": 600\n      },\n      \"estimatedTotalFlightCost\": 2800,\n      \"bookingURL\": \"https://www.egyptair.com/ (Replace with your preferred booking site: Expedia, Kayak, etc.  Book well in advance for best prices.)\"\n    }\n  },\n  \"accommodation\": {\n    \"hotelOptions\": [\n      {\n        \"hotelName\": \"Four Seasons Hotel Cairo at Nile Plaza\",\n        \"placeDetails\": \"Luxury hotel overlooking the Nile, offering exceptional service, multiple restaurants, a spa, and stunning views. Perfect for families.\",\n        \"placeImage\": \"URL to Four Seasons Cairo Nile Plaza Image (Find on Google Images or the hotel website)\",\n        \"geoCoordinates\": {\n          \"latitude\": 30.0444,\n          \"longitude\": 31.2357\n        },\n        \"estimatedPricePerNight\": 700,\n        \"bookingURL\": \"https://www.fourseasons.com/caironp/\"\n      },\n      {\n        \"hotelName\": \"The Nile Ritz-Carlton, Cairo\",\n        \"placeDetails\": \"Iconic luxury hotel in downtown Cairo, close to the Egyptian Museum. Offers exceptional dining, a beautiful pool area, and luxurious rooms.\",\n        \"placeImage\": \"URL to Nile Ritz-Carlton Cairo Image (Find on Google Images or the hotel website)\",\n        \"geoCoordinates\": {\n          \"latitude\": 30.0464,\n          \"longitude\": 31.2343\n        },\n        \"estimatedPricePerNight\": 650,\n        \"bookingURL\": \"https://www.ritzcarlton.com/en/hotels/middle-east/cairo/nile\"\n      },\n      {\n        \"hotelName\": \"Kempinski Nile Hotel Cairo\",\n        \"placeDetails\": \"Elegant hotel with direct Nile views, offering a tranquil escape. Features excellent restaurants, a rooftop pool, and spacious rooms.\",\n        \"placeImage\": \"URL to Kempinski Nile Hotel Cairo Image (Find on Google Images or the hotel website)\",\n        \"geoCoordinates\": {\n          \"latitude\": 30.0461,\n          \"longitude\": 31.2319\n        },\n        \"estimatedPricePerNight\": 550,\n        \"bookingURL\": \"https://www.kempinski.com/en/cairo/nile-hotel/\"\n      }\n    ],\n    \"estimatedTotalHotelCost\": 700\n  },\n  \"dayItinerary\": {\n    \"morning\": {\n      \"activity\": \"Visit the Pyramids of Giza and the Sphinx\",\n      \"details\": \"Hire a private guide and driver for a comfortable and informative experience. Consider a camel ride (optional, negotiate price beforehand).\",\n      \"estimatedCost\": 200,\n      \"duration\": \"4 hours\",\n      \"geoCoordinates\": {\n        \"latitude\": 29.9773,\n        \"longitude\": 31.1325\n      },\n      \"bookingURL\": \"Viator or GetYourGuide (search for private Giza tours)\"\n    },\n    \"lunch\": {\n      \"restaurant\": \"139 Pavilion at Mena House Hotel (Overlooking the Pyramids)\",\n      \"details\": \"Enjoy a luxurious lunch with breathtaking views of the pyramids.\",\n      \"estimatedCost\": 150,\n      \"duration\": \"1.5 hours\",\n      \"bookingURL\": \"https://www.marriott.com/en-us/hotels/caimn-mena-house-cairo/dining/\"\n    },\n    \"afternoon\": {\n      \"activity\": \"Visit the Egyptian Museum\",\n      \"details\": \"Explore the vast collection of ancient Egyptian artifacts, including the treasures of Tutankhamun. Consider a guided tour to make the most of your visit.\",\n      \"estimatedCost\": 100,\n      \"duration\": \"3 hours\",\n      \"geoCoordinates\": {\n        \"latitude\": 30.0477,\n        \"longitude\": 31.2336\n      },\n      \"bookingURL\": \"Purchase tickets online in advance to avoid queues.\"\n    },\n    \"evening\": {\n      \"activity\": \"Nile River Dinner Cruise\",\n      \"details\": \"Enjoy a relaxing dinner cruise on the Nile with entertainment, such as belly dancing and traditional music.  Many cruises offer hotel pickup and drop-off.\",\n      \"estimatedCost\": 300,\n      \"duration\": \"3 hours\",\n      \"bookingURL\": \"Viator or GetYourGuide (search for Nile dinner cruises)\"\n    },\n     \"lateNight\": {\n      \"activity\": \"Check-out and Airport Transfer\",\n      \"details\": \"Arrange a private car service to the airport for your departure flight.\",\n      \"estimatedCost\": 50,\n      \"duration\": \"1 hour\",\n      \"bookingURL\": \"Careem or Uber\"\n    }\n  },\n  \"additionalCosts\": {\n    \"visas\": \"Varies based on nationality (check visa requirements for Egypt)\",\n    \"travelInsurance\": \"Highly recommended (approx. $100 for the family)\",\n    \"tipsAndSouvenirs\": 200,\n    \"airportTransfers\": 100,\n    \"miscellaneous\": 100\n  },\n  \"totalEstimatedTripCost\": 7950,\n  \"importantNotes\": [\n    \"Prices are estimates and subject to change. Book flights and accommodation well in advance, especially for travel around Valentine's Day.\",\n    \"Confirm visa requirements for your nationality.\",\n    \"Dress respectfully, especially when visiting religious sites.\",\n    \"Stay hydrated and be mindful of food safety.\",\n    \"Negotiate prices with vendors before making purchases.\",\n    \"Arrange transportation in advance, especially for airport transfers and excursions.  Uber and Careem are widely available in Cairo.\",\n    \"Consider hiring a private guide for the Pyramids and the Egyptian Museum to enhance your experience.\",\n    \"Pack light, comfortable clothing and shoes.\",\n    \"Learn a few basic Arabic phrases.\"\n  ]\n}\n```\n\n**Important Considerations:**\n\n*   **Departure City:**  You *MUST* replace `\"Your Departure City (Replace This)\"` with your actual departure city for accurate flight results.\n*   **Booking Links:**  Replace the generic booking URLs with direct links to specific flights, hotels, and tours you find.  *Always* check reviews and cancellation policies before booking.\n*   **Visa Requirements:**  Check the Egyptian visa requirements for your nationality *immediately*.  Some nationalities can obtain visas on arrival, while others need to apply in advance. This can take time.\n*   **Health:** Consult your doctor about necessary vaccinations and health precautions.\n*   **Flexibility:** Be prepared to be flexible with your itinerary due to potential delays or unforeseen circumstances.\n*   **Private Transportation:**  For a luxury experience and to maximize your time, prioritize private transportation.\n*   **Communication:** Download a translation app (like Google Translate) to help with communication if you don't speak Arabic.\n\nThis detailed plan provides a starting point for your luxury Cairo adventure.  Remember to customize it based on your family's interests and preferences! Good luck!\n"},
          ],
        },
      ],
    });
  
    //const result = await chatSession.sendMessage("INSERT_INPUT_HERE");
    //console.log(result.response.text());
 